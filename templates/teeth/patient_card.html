<!-- templates/teeth/patient_card.html -->
{% extends "base.html" %}
{% block content %}
<a href="{{ url_for('patient_detail', pid=patient.PatientID) }}" class="btn btn-outline-secondary mb-3">‚Üê –ö –∫–∞—Ä—Ç–æ—á–∫–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞</a>

<h2>–ó—É–±–Ω–∞—è –∫–∞—Ä—Ç–∞: {{ patient.FullName }}</h2>

<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-body text-center">
                <p class="text-muted">–í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —á–µ–ª—é—Å—Ç–∏ (—É–ø—Ä–æ—â—ë–Ω–Ω–æ)</p>
                <div class="row justify-content-center mb-4">
                    {% for num in range(1, 33) %}
                        {% set status = tooth_map.get(num, {}).Status if tooth_map.get(num) else 'unknown' %}
                        {% set color = 'bg-success' if status == 'healthy' else 'bg-warning' if status == 'caries' else 'bg-info' if status in ['filled','crown'] else 'bg-danger' if status == 'missing' else 'bg-secondary' %}
                        <div class="col-1 mb-1">
                            <div class="badge {{ color }} rounded-pill p-2">{{ num }}</div>
                            <br><small>{{ status[:4] }}</small>
                        </div>
                        {% if num in [16, 17] %}<br class="mt-2">{% endif %}
                    {% endfor %}
                </div>
                <p class="text-muted">‚úÖ –∑–¥–æ—Ä–æ–≤ / ‚ö†Ô∏è –∫–∞—Ä–∏–µ—Å / üíä –ø–ª–æ–º–±–∞ / üëë –∫–æ—Ä–æ–Ω–∫–∞ / ‚ùå –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç / ? ‚Äî –Ω–µ —É–∫–∞–∑–∞–Ω–æ</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}